sudo: required
language: generic
matrix:
  include:
  - os: osx
    osx_image: xcode8.3
    language: generic
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86
  - os: osx
    osx_image: xcode8.3
    language: generic
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86
  - os: osx
    osx_image: xcode8.3
    language: generic
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
  - os: osx
    osx_image: xcode8.3
    language: generic
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=coverage
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=6
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=5
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=5
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86
    - GCC_VERSION=5
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=zpm
    - GCC_VERSION=5
global:
  env:
  - PROJECT=MathLib
  - PROJECT_DIRECTORY=math
install:
- source /dev/stdin <<< "$(curl -s https://raw.githubusercontent.com/Zefiros-Software/ZPM/features/refactor/script/install-zpm.sh)"
script:
- zpm run build-ci-library
after_success:
- zpm run deploy-ci-library
notifications:
  slack:
    secure: RbO3YxrU6qsqq51unbcN3cuEy4/rYTlKDV2fXhzu/dgMcVh9XtWlv59AiZt2KjOsZY5Yj52tehgUBjwI5/Cj/4/zMb5UKS/6jupYnQCHgtT6QLioEbcFLw06kFQk/wlSx/ypH2WuFkaY6BRDcFQv71xrPvtB7t+C7fUzbFKZRVeuAZ6PtfeWhKfz/v1pHvDJZqtX15dOvX3BfvKX0TTTo19edbvmFFqFpGQmlWdsJrkPebFRYZ+SypFf6tLM7GeqeZhzV77iBM4ifepFaieCVB9zEiVeGWqPg7fEdfdkL+lYflGg3S8lQ+HYCi58IKVtkC1fNrVcU0xBztpLZtSipLxRXg81iK4oXn0NQ8truMBIaVQrnHuIDiMLKa5kx5C1MdSXLdhH678XP18LWRb7ql+QFwaFniQq+swxlZxuiFoVr4ejEgzthRhuOtLRWHiah62Uet5p8+Ez5fSU3RCku0O/Wi8e2O85Nh78x7SUL7CJx7/nOqetbU+87xGGi9po97V8vcr8JMJAsMqJmiCI+6VMkKAEc+wvNXCX/4Px1VQjxBBKhaPdRLTHa50+1GXMOkKDQPWzij0ENzBPJzhGG9yo7l4NbE6PVMIjYGmSKDKYpHKJZz8J49Lv0oD01jgxFG2HAh3RUd22wfEB7RIqcRo7wl1xDJpp/nHPb9rAwqI=
